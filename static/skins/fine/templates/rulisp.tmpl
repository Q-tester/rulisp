// -*- mode: html -*-
// rulisp.tmpl

{namespace rulisp.view.fine}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 * Main template
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * /

{template main-frame}
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
    {\n}
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
	    <head>
      	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
            <meta name="keywords" content="Common Lisp,lisp,лисп" />

            {foreach $item in $css}
                <link href="{$item}" rel="stylesheet" type="text/css" />
            {/foreach}
	    </head>

	    <body>
            <div class="top">
                {if $user}
                    <div id="login">
                        <strong>{$user}</strong> |
                        <a href="/profile">Настройки</a> |
                        <a href="/logout" id="logout">Выйти</a>
                    </div>
                {else}
                    <div id="login">
                        <a href="/register">Регистрация</a> |
                        <a href="/login?done={$callback}">Войти</a>
                    </div>
                {/if}
            </div>

            <div id="caution">
                <img alt="Lisp — программируемый язык программирования" src="/image/gecko.png" />
            </div>

            <div id="mainmenu">
                <ul>
                    {foreach $item in $mainMenu}
                        <li>
                            <a href="{$item.href}">{$item.name}</a>
                        </li>
                    {/foreach}
                </ul>
            </div>

            <div id="content">
                {$content |noAutoescape}
            </div>

            <div class="bottom">@2009 lisper.ru</div>
        </body>
    </html>
{/template}
