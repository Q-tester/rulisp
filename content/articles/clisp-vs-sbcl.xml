<?xml version="1.0" encoding="utf-8"?>

<page xmlns:xlink="http://www.w3.org/1999/xlink"
      xlink:title="Сравнение GNU CLISP и SBCL"
      xlink:href="http://lispnik.livejournal.com/156229.html">

    <author xlink:title="lispnik" xlink:href="http://lispnik.livejournal.com/" />


    <p>Самое главное различие состоит в том, что CLISP — интерпретатор байткода, а SBCL — настоящий компилятор (даже то, что вводится пользоватем с консоли, сначала компилируется; в CMU CL, от которого произошёл SBCL, такой код интепретируется).</p>

    <p>В CLISP рантайм написан в основном на C, а компилятор — на Common Lisp. В SBCL на C написана лишь часть рантайма (сборщик мусора и другой низкоуровневый код), незначительная часть — на ассемблере, но подавляющая часть кода — на Common Lisp.</p>

    <p>Однако в некоторых областях CLISP быстрее многих лисп-систем: вычисления с bignum и ввод-вывод (в часности, поэтому Пол Грэхэм выбрал CLISP для ViaWeb).</p>

    <p>Кроме того, в CLISP есть большое количество расширений и биндингов к таким библиотекам, как zlib, libprce, FastCGI, gettext. В SBCL расширения тоже есть, но поскромнее. Зато SBCL поддерживается библиотекой UFFI, что автоматически делает доступным немалое количество биндингов, сделаных с помощью этой библиотеки (UFFI не поддерживает CLISP, поскольку Foreign Function Interface у этой реализации сильно отличается от остальных; однако CFFI поддерживает в том числе и CLISP). Обе реализации поддерживают сокеты, POSIX, FFI, но API несовместимы (для совместимости можно использовать дополнительные библиотеки, что заодно даст совместимость с CMUCL/LispWorks/Allegro CL).</p>

    <p>GNU CLISP лицензируется по GNU GPL с исключениями, а SBCL — частично Public Domain, частично BSD.</p>

    <p>Что касается многопоточности, в SBCL/x86 и SBCL/x86-64 на Linux-2.6.x (или более старым ядром, но с бэкпортом NPTL) поддерживается многопоточность, основанная на нитях POSIX и futex. На *BSD и другие платформы многопоточность ещё не портирована.</p>

    <p>В CLISP многопоточности нет.</p>
</page>